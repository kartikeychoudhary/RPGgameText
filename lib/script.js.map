{"version":3,"sources":["../src/script.js"],"names":["addToOutput","BR","defaultLine","environment","Environment","treasures","WeakMap","tresCoords","Set","_fileInput","x","y","navigate","stepX","stepY","coordiates","document","querySelector","innerHTML","findTreasure","findCoords","coords","get","name","value","_onFilesSelected","file","files","reader","FileReader","Promise","resolve","reject","onload","event","target","readyState","DONE","JSON","parse","result","readAsText","main","enterEl","addEventListener","onclickEnter","coordinate1","add","set","coordinate2","onchange","then","results","coordinates","treasure","catch","error","console","log","Object","getOwnPropertySymbols","options","newLine","ouput","commands","outputOptions","stumbleUpon","poke"],"mappings":"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","file":"script.js","sourcesContent":["import {Environment} from \"./environment\";\nimport {options, print} from \"./additional\";\n\nconst BR = \"<br>\";\nconst defaultLine = \"+ Start your Journey now !!!\"\n\nvar environment = new Environment(\"Forest - \");\nvar treasures = new WeakMap();\nvar tresCoords = new Set();\nvar _fileInput;\n\nvar x=0, y=0;\n\nfunction navigate(stepX, stepY){\n    [x, y] = [x+stepX, y+stepY];\n\n    let coordiates= document.querySelector(\"#coordinates\");\n    coordiates.innerHTML = `${x}, ${y}`;\n\n    findTreasure();\n}\n\nfunction findTreasure(){\n    let findCoords;\n    for(let coords of tresCoords){\n        if(coords.x == x && coords.y == y){\n            findCoords = coords;\n        }\n    }\n\n    if(findCoords){\n        var {name, value} = treasures.get(findCoords);\n        if(value){\n            addToOutput(`You found a ${name} value (${value})`);\n        }\n    }\n}\n\nfunction _onFilesSelected(){\n    var file = _fileInput.files[0];\n    var reader = new FileReader();\n\n\n    return new Promise((resolve, reject)=>{\n\n        reader.onload = function(event){\n            if(event.target.readyState == FileReader.DONE){\n                resolve(JSON.parse(event.target.result));\n            }\n        }\n        if(file){\n            reader.readAsText(file, \"UTF-8\");\n        }\n\n    });\n    \n}\n\nfunction main(){\n    let enterEl = document.querySelector(\"#enter\");\n\n    enterEl.addEventListener(\"click\", onclickEnter, false);\n\n    addToOutput();\n\n    var coordinate1 = {x:2, y:2};\n    tresCoords.add(coordinate1);\n    treasures.set(coordinate1,{name:\"treasure_chest\",value:100});\n    var coordinate2 = {x:2, y:0};\n    tresCoords.add(coordinate2);\n    treasures.set(coordinate2,{name:\"medaillon\",value:10});\n\n    _fileInput = document.querySelector(\"#file\");\n    _fileInput.onchange = function(){\n        _onFilesSelected().then(function(results){\n            for(var result of results){\n            tresCoords.add(result.coordinates);\n            treasures.set(result.coordinates, result.treasure);\n            }  \n        }).catch(function(error){\n            print(\"file\", error);\n        });\n    };\n\n}\nmain();\nconsole.log(Object.getOwnPropertySymbols(options));\n\nexport function addToOutput(newLine=defaultLine){\n let ouput =document.querySelector(\"#output\");\n ouput.innerHTML += BR + newLine;\n print(newLine);\n}\n\nfunction onclickEnter(){\n    let commands = document.querySelector(\"#commands\");\n    \n    if(commands.value == \"help\"){\n       options.outputOptions(); \n    }else if(commands.value == \"left\"){\n        navigate(-1, 0);\n        addToOutput(environment.stumbleUpon());\n    }else if(commands.value == \"right\"){\n        navigate(1, 0);\n        addToOutput(environment.stumbleUpon());\n    }else if(commands.value == \"up\"){\n        navigate(0, 1);\n        addToOutput(environment.stumbleUpon());\n    }else if(commands.value == \"down\"){\n        navigate(0, -1);\n        addToOutput(environment.stumbleUpon());\n    }else if(commands.value == \"poke\"){\n        addToOutput(environment.poke());\n    }\n    else{\n        addToOutput(commands.value);\n    }\n}"]}